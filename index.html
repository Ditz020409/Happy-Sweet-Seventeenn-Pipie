<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Happy Sweet Seventeen‚ù§Ô∏è</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ef476f;--muted:#9aa5b1}
    *{box-sizing:border-box;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    body{margin:0;background:linear-gradient(180deg,#071024 0%, #071a2a 100%);color:#e6eef6;min-height:100vh;display:flex;flex-direction:column}
    header{padding:20px 24px;display:flex;align-items:center;justify-content:space-between}
    header h1{margin:0;font-size:18px;letter-spacing:0.6px}
    .container{max-width:980px;margin:0 auto;padding:12px}

    /* Lightbox styles */
    .lightbox {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: rgba(0,0,0,0.95);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    .lightbox.active {
      display: flex;
    }
    .lightbox img {
      max-width: 95%;
      max-height: 95vh;
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 0 30px rgba(0,0,0,0.5);
      animation: zoomIn 0.3s ease-out;
    }
    @keyframes zoomIn {
      from { transform: scale(0.95); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .top{display:flex;gap:12px;align-items:center}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    button, .btn{background:linear-gradient(90deg,var(--accent),#ff7a9b);border:none;padding:8px 12px;border-radius:10px;color:white;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}

    .layout{display:grid;grid-template-columns:1fr 360px;gap:16px;margin-top:14px}
    @media (max-width:900px){.layout{grid-template-columns:1fr}}

    /* Gallery */
    .card{background:rgba(255,255,255,0.02);padding:14px;border-radius:12px}
    .gallery-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
    @media (max-width:600px){.gallery-grid{grid-template-columns:repeat(2,1fr)}}
    .thumb{position:relative;overflow:hidden;border-radius:8px;min-height:100px;background:linear-gradient(180deg,#071826,#062233);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform 0.2s}
    .thumb:hover{transform:scale(1.05)}
    .thumb img,.thumb video{width:100%;height:100%;object-fit:cover;display:block}
    .thumb .label{position:absolute;left:6px;bottom:6px;background:rgba(0,0,0,0.45);padding:4px 6px;border-radius:6px;font-size:12px}
    
    .lightbox-close {
      position: absolute;
      top: 20px;
      right: 20px;
      color: white;
      font-size: 32px;
      cursor: pointer;
      background: rgba(0,0,0,0.4);
      border: none;
      padding: 5px 15px;
      border-radius: 50%;
      opacity: 0.8;
      transition: all 0.2s;
    }
    .lightbox-close:hover {
      opacity: 1;
      transform: scale(1.1);
    }

    /* Right panel */
    .panel h3{margin:0 0 8px 0}
    .messages{display:flex;flex-direction:column;gap:8px;max-height:420px;overflow:auto;padding-right:6px}
    .message{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:10px;border-radius:10px}
    .preview{margin-top:12px}

    .slideshow{position:relative;margin-top:12px;border-radius:12px;overflow:hidden;background:#06122a}
    .slide{display:none;padding:20px;min-height:220px;align-items:center;justify-content:center}
    .slide.active{display:flex}
    .slide .meta{position:absolute;left:18px;bottom:18px;background:rgba(0,0,0,0.4);padding:10px;border-radius:10px}

    footer{margin-top:auto;padding:18px 24px;text-align:center;color:var(--muted);font-size:13px}

    input[type="file"]{display:none}
    .uploader{display:flex;gap:8px;align-items:center}
    .small{font-size:13px;color:var(--muted)}
  </style>
</head>
<body>
  <!-- Lightbox container -->
  <div class="lightbox" id="imageLightbox">
    <button class="lightbox-close" onclick="closeLightbox()">√ó</button>
    <img src="" alt="Foto besar" id="lightboxImage" style="display: none;">
    <video src="" id="lightboxVideo" controls style="display: none; max-width: 95%; max-height: 95vh; border-radius: 12px;"></video>
  </div>

  <header>
    <h1>Happy Sweet Seventeen</h1>
    <p style="opacity:.7">Andrea Sofia AhnafüéÇ</p>
  </header>

  <main class="container">
    <h2>Galeri Kita Dulu</h2>
    <div class="gallery-grid">
      <div class="thumb" onclick="openLightbox(this)">
        <img src="img1.jpg" alt="kita dulu 1">
      </div>
      <div class="thumb" onclick="openLightbox(this)">
        <img src="img2.jpg" alt="kita dulu 2">
      </div>
      <div class="thumb" onclick="openLightbox(this)">
        <img src="img4.jpg" alt="kita dulu 3">
      </div>
      <div class="thumb" onclick="openLightbox(this)">
        <img src="img5.jpg" alt="kita dulu 4">
      </div>
      <div class="thumb" onclick="openLightbox(this)">
        <img src="img6.jpg" alt="kita dulu 5">
      </div>
      <div class="thumb" onclick="openLightbox(this)">
        <img src="img7.jpg" alt="kita dulu 6">
      </div>
      <div class="thumb" onclick="openLightbox(this)">
        <img src="img8.jpg" alt="kita dulu 7">
      </div>
      <div class="thumb" onclick="openLightbox(this)">
        <img src="img9.jpg" alt="kita dulu 8">
      </div>
        <div class="thumb" onclick="openLightbox(this)">
        <img src="img10.jpg" alt="kita dulu 10">
        </div>
        <div class="thumb" onclick="openLightbox(this)">
          <video src="vid1.mp4" style="pointer-events: none;"></video>
          <div class="label">Video</div>
      </div>
      <div class="thumb" onclick="openLightbox(this)">
          <video src="vid2.mp4" style="pointer-events: none;"></video>
          <div class="label">Video</div>
      </div>
      <div class="thumb" onclick="openLightbox(this)">
          <video src="vid3.mp4" style="pointer-events: none;"></video>
          <div class="label">Video</div>
      </div>
      </div>

    <h2 style="margin-top:32px">Ucapan Untukmu</h2>
    <div class="card" style="padding:20px;font-size:18px;line-height:1.6">
      Waktu Itu, Tepatnya 7 November 2008 Kamu Lahir Ke Dunia. Dan Tepat Hari Ini, 7 November 2025 Kamu Ber Usia 17 Tahun. Selamat Ulang tahun Untuk Kamu yang Selalu Aku Cinta. Semoga Kamu Panjang Umur, Sehat selalu, Dan Banyak Rezakinya Aamiinn.  
      <br><br>
      Dan Satu Lagi.....
      <br>Selamat Menjalani Cinta Barunya. Semoga Kamu Bahagia Terus Bersamanya. Aku Disini Bahagia kalo Kamu Juga Bahagia. Pokoknya mah Kamu Harus Bahagia.<br>
      <strong>Happy Sweet Seventeen ‚ú®</strong>
      <br><br>
      Makasih Udah Jadi Bagian Dari Cerita Di Hidup Aku .
    </div>

    <h2 style="margin-top:32px">Video Pesan</h2>
    <h3 style="margin-top:32px">Maaf Jelek Baru Bangun</h3>
    <div style="text-align:center">
      <video src="vid4.mp4" controls style="width:100%;max-width:480px;border-radius:12px" preload="metadata"></video>
    </div>

  </main>

  <footer>
    <p style="opacity:.5;font-size:12px;margin-top:48px">Dibuat khusus untuk ucapan ulang tahun Andrae Sofia Ahnaf.</p>
  </footer>

  <!-- Autoplay audio: letakkan file `audio.mp3` di folder yang sama dengan file ini. Jika browser memblokir autoplay, tombol Play akan muncul sebagai fallback. -->
  <audio id="bg-audio" src="audio.mp3" preload="auto" loop></audio>
  <button id="audio-play-btn" style="display:none;position:fixed;right:16px;bottom:16px;padding:10px 14px;border-radius:999px;background:linear-gradient(90deg,var(--accent),#ff7a9b);color:white;border:none;box-shadow:0 6px 18px rgba(0,0,0,0.4);cursor:pointer;z-index:1200">Play Music</button>

  <script>
    function openLightbox(element) {
      const img = element.querySelector('img');
      const video = element.querySelector('video');
      const lightbox = document.getElementById('imageLightbox');
      const lightboxImg = document.getElementById('lightboxImage');
      const lightboxVideo = document.getElementById('lightboxVideo');
      
      if (img) {
        lightboxImg.style.display = 'block';
        lightboxVideo.style.display = 'none';
        lightboxImg.src = img.src;
        lightbox.classList.add('active');
      } else if (video) {
        lightboxVideo.style.display = 'block';
        lightboxImg.style.display = 'none';
        lightboxVideo.src = video.src;
        lightbox.classList.add('active');
        lightboxVideo.play();
      }
    }

    function closeLightbox() {
      const lightbox = document.getElementById('imageLightbox');
      const lightboxVideo = document.getElementById('lightboxVideo');
      lightbox.classList.remove('active');
      if (lightboxVideo) {
        lightboxVideo.pause();
        lightboxVideo.currentTime = 0;
      }
    }

    // Close lightbox when clicking anywhere on the lightbox background
    document.getElementById('imageLightbox').addEventListener('click', function(e) {
      if (e.target === this) {
        closeLightbox();
      }
    });

    // Close lightbox with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeLightbox();
      }
    });

    // --- Autoplay attempt with fallback ---
    // Many browsers block autoplay with sound. We try to play programmatically
    // and if it fails we show a visible Play button so the user can start audio.
    document.addEventListener('DOMContentLoaded', function() {
      var audio = document.getElementById('bg-audio');
      var playBtn = document.getElementById('audio-play-btn');
      if (!audio) return;

      function tryPlay() {
        // attempt to play; returns a Promise in modern browsers
        var p = audio.play();
        if (p !== undefined) {
          p.then(function() {
            // autoplay succeeded
            if (playBtn) playBtn.style.display = 'none';
          }).catch(function() {
            // autoplay blocked -> show fallback button
            if (playBtn) playBtn.style.display = 'block';
          });
        }
      }

      // Try to play shortly after DOM ready
      tryPlay();

      if (playBtn) {
        playBtn.addEventListener('click', function() {
          audio.play().then(function() {
            playBtn.style.display = 'none';
          }).catch(function() {
            // still failed; keep the button displayed
          });
        });
      }
    });
  </script>
</body>
</html>
